{"version":3,"sources":["webpack:///./template/main-page.hbs","webpack:///./js/refs.js","webpack:///./js/proxyElemen.js","webpack:///./js/api.js","webpack:///./js/localStorageJS.js","webpack:///./js/btn.js","webpack:///./js/users/reloadInt.js","webpack:///./js/core.js","webpack:///./template/card.hbs","webpack:///./template/similar-movies.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","id","call","backdrop_path","title","release_date","stack1","each","program","noop","refs","anti_cors","body","document","querySelector","logo","intro","serchForm","textArea","cardContainer","cardList","library","sidebar","sidebarWatchBtn","sidebarQueueBtn","loadMoreBtn","proxyElement","axios","defaults","baseURL","API","currPage","getPopularFilms","get","then","response","getInfoById","this","getMovieIdFromLink","getMoviesByQuery","query","getPageFromLink","location","hash","split","getSimilarMovies","movieLocalStorage","setWatchedMovieIdToLocalStorage","obj","watchedArray","localStorage","getItem","parsedWatchedArray","JSON","parse","find","movie","push","setItem","stringify","getWatchedMovieIdToLocalStorage","savedArrayOfId","deleteWatchedMovieIdFromLocalStorage","isContain","Number","positionId","indexOf","splice","setQueueMovieIdToLocalStorage","queueArray","parsedQueueArray","getQueueMovieIdToLocalStorage","deleteQueueMovieIdFromLocalStorage","console","log","btn","offSidebar","classList","add","onSidebar","remove","offLoadBtn","onLoadBtn","offCloseBtn","markup","querySelectorAll","li","onCloseBtn","Array","from","closeBtn","map","item","onWatchBtn","offWatchBtn","onQueueBtn","offQueueBtn","user1","mainPage","api","results","elem","mainPageTemplate","innerHTML","insertCardsToMainPage","setOnclick","card","button","cardTemplate","insertCardToMain","rerenderButtons","setOnclickAddWatch","setOnclickAddQueue","similarMoviesMarkup","similarMoviesTemplate","insertSimilarMoviesToCard","$","slick","dots","infinite","speed","slidesToShow","centerMode","variableWidth","centerPadding","arrows","autoplay","responsive","breakpoint","settings","slidesToScroll","buildCartTemplate","buildSimilarMoviesTemplate","insertAdjacentHTML","hidden","items","showCardsByquery","addEventListener","e","target","nodeName","currentTarget","dataset","movieid","buttonAddWatch","action","saveData","localStorageJs","buttonAddQueue","watchedLS","isWatched","isQueued","queuedLS","textContent","renderLibrary","type","preventDefault","child","parentNode","removeChild","text","value","reloadInt","movieId","lambda","name","poster_path","vote_average","vote_count","popularity","original_title","genres","overview"],"mappings":"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","file":"main.f932ce90a5ecf3857b4f.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"        <li class=\\\"itemCard\\\" data-movieID=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":43},\"end\":{\"line\":3,\"column\":49}}}) : helper)))\n    + \"\\\">\\r\\n                <a href=\\\"#\\\" class=\\\"close hide\\\" data-movieID=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":61},\"end\":{\"line\":4,\"column\":67}}}) : helper)))\n    + \"\\\"></a>\\r\\n                <a href=\\\"#id=\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":29},\"end\":{\"line\":5,\"column\":35}}}) : helper)))\n    + \"\\\" onclick=\\\"location.replace('#id=\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":68},\"end\":{\"line\":5,\"column\":74}}}) : helper)))\n    + \"')\\\">\\r\\n                        <img src=\\\"https://cors-anywhere.herokuapp.com/https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = helpers.backdrop_path || (depth0 != null ? depth0.backdrop_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":101},\"end\":{\"line\":6,\"column\":118}}}) : helper)))\n    + \"\\\"\\r\\n                                alt=\\\"filmImg\\\">\\r\\n                        <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":28},\"end\":{\"line\":8,\"column\":37}}}) : helper)))\n    + \" (\"\n    + alias4(((helper = (helper = helpers.release_date || (depth0 != null ? depth0.release_date : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":39},\"end\":{\"line\":8,\"column\":55}}}) : helper)))\n    + \")</h2>\\r\\n                </a>\\r\\n        </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<ul class=\\\"movie-cards\\\">\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":8},\"end\":{\"line\":11,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","const refs = {\r\n  anti_cors: 'https://cors-anywhere.herokuapp.com/',\r\n  body: document.querySelector('body'),\r\n  logo: document.querySelector('.site-logo'),\r\n  intro: document.querySelector('.intro'),\r\n  container: document.querySelector('#container'),\r\n  serchForm: document.querySelector('.search-form'),\r\n  textArea: document.querySelector('#search-form'),\r\n  cardContainer: document.querySelector('#container'),\r\n  cardList: document.querySelector('.card_list'),\r\n  library: document.querySelector('#nav-libery'),\r\n  sidebar: document.querySelector('.sidebar'),\r\n  sidebarWatchBtn: document.querySelector('.sidebar_watch'),\r\n  sidebarQueueBtn: document.querySelector('.sidebar_queue'),\r\n  loadMoreBtn: document.querySelector('.loadMoreBtn'),\r\n};\r\n\r\nexport default refs;\r\n","function proxyElement(markup, selector, items = 'all') {\r\n  const container = document.createElement('div');\r\n  container.innerHTML = markup;\r\n  if (items === 'all') {\r\n    return container.querySelectorAll(selector);\r\n  } else if (items === 'one') {\r\n    return container.querySelector(selector);\r\n  }\r\n}\r\n\r\nexport default proxyElement;\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = refs.anti_cors + 'https://api.themoviedb.org/3/';\r\n\r\nconst API = '8b49236e6b82eb62c6f5cab7126e8684';\r\n\r\nexport default {\r\n  currPage: 1,\r\n  getPopularFilms() {\r\n    return axios\r\n      .get(`/movie/popular/?api_key=${API}`)\r\n      .then(response => response.data);\r\n  },\r\n  getInfoById(id) {\r\n    id = this.getMovieIdFromLink() ? this.getMovieIdFromLink() : id;\r\n    return axios\r\n      .get(`/movie/${id}?api_key=${API}`)\r\n      .then(response => response.data);\r\n  },\r\n  getMoviesByQuery(query) {\r\n    this.currPage = this.getPageFromLink()\r\n      ? this.getPageFromLink()\r\n      : this.currPage;\r\n    return axios\r\n      .get(\r\n        `/search/movie?api_key=${API}&page=${this.currPage}&query=${query}&include_adult=false&language=en-US`,\r\n      )\r\n      .then(response => {\r\n        this.currPage += 1;\r\n        return response.data;\r\n      });\r\n  },\r\n  getPageFromLink() {\r\n    return location.hash.split('#page=')[1];\r\n  },\r\n  getMovieIdFromLink() {\r\n    return location.hash.split('#id=')[1];\r\n  },\r\n  getSimilarMovies(id) {\r\n    id = this.getMovieIdFromLink() ? this.getMovieIdFromLink() : id;\r\n    return axios\r\n      .get(`/movie/${id}/similar?api_key=${API}`)\r\n      .then(response => response.data);\r\n  },\r\n};\r\n","const movieLocalStorage = {\r\n  setWatchedMovieIdToLocalStorage(obj) {\r\n    let watchedArray = localStorage.getItem('watched');\r\n    let parsedWatchedArray = watchedArray ? JSON.parse(watchedArray) : [];\r\n\r\n    let isContain = parsedWatchedArray.find(movie => movie.id === obj.id);\r\n\r\n    if (isContain) {\r\n      return;\r\n    }\r\n\r\n    parsedWatchedArray.push(obj);\r\n\r\n    localStorage.setItem('watched', JSON.stringify(parsedWatchedArray));\r\n  },\r\n\r\n  getWatchedMovieIdToLocalStorage() {\r\n    const savedArrayOfId = localStorage.getItem('watched');\r\n    const parsedArrayOfid = JSON.parse(savedArrayOfId);\r\n\r\n    return parsedArrayOfid;\r\n  },\r\n\r\n  deleteWatchedMovieIdFromLocalStorage(id) {\r\n    let watchedArray = localStorage.getItem('watched');\r\n\r\n    let parsedWatchedArray = watchedArray ? JSON.parse(watchedArray) : [];\r\n\r\n    let isContain = parsedWatchedArray.find(movie => movie.id === Number(id));\r\n\r\n    if (isContain) {\r\n      const positionId = parsedWatchedArray.indexOf(isContain);\r\n\r\n      parsedWatchedArray.splice(positionId, 1);\r\n    }\r\n\r\n    localStorage.setItem('watched', JSON.stringify(parsedWatchedArray));\r\n  },\r\n\r\n  setQueueMovieIdToLocalStorage(obj) {\r\n    let queueArray = localStorage.getItem('queue');\r\n    let parsedQueueArray = queueArray ? JSON.parse(queueArray) : [];\r\n\r\n    let isContain = parsedQueueArray.find(movie => movie.id === obj.id);\r\n\r\n    if (isContain) {\r\n      return;\r\n    }\r\n\r\n    parsedQueueArray.push(obj);\r\n\r\n    localStorage.setItem('queue', JSON.stringify(parsedQueueArray));\r\n  },\r\n\r\n  getQueueMovieIdToLocalStorage() {\r\n    const savedArrayOfId = localStorage.getItem('queue');\r\n    const parsedArrayOfid = JSON.parse(savedArrayOfId);\r\n\r\n    return parsedArrayOfid;\r\n  },\r\n\r\n  deleteQueueMovieIdFromLocalStorage(id) {\r\n    let queueArray = localStorage.getItem('queue');\r\n    let parsedQueueArray = queueArray ? JSON.parse(queueArray) : [];\r\n\r\n    let isContain = parsedQueueArray.find(movie => movie.id === Number(id));\r\n    console.log(isContain);\r\n    if (isContain) {\r\n      const positionId = parsedQueueArray.indexOf(isContain);\r\n\r\n      parsedQueueArray.splice(positionId, 1);\r\n    }\r\n\r\n    localStorage.setItem('queue', JSON.stringify(parsedQueueArray));\r\n  },\r\n  // deleteObjById(id, type){\r\n  //   if(type='watched'){\r\n\r\n  //   }\r\n  // }\r\n};\r\n\r\nexport default movieLocalStorage;\r\n","import refs from './refs';\r\nconst btn = {\r\n  offSidebar() {\r\n    refs.sidebar.classList.add('hide');\r\n  },\r\n  onSidebar() {\r\n    refs.sidebar.classList.remove('hide');\r\n  },\r\n  offLoadBtn() {\r\n    refs.loadMoreBtn.classList.add('hide');\r\n  },\r\n  onLoadBtn() {\r\n    refs.loadMoreBtn.classList.remove('hide');\r\n  },\r\n  offCloseBtn() {\r\n    const markup = document.querySelectorAll('.close');\r\n    console.log(markup);\r\n    for (const li of markup) {\r\n      li.classList.add('hide');\r\n      console.log(li);\r\n    }\r\n  },\r\n  onCloseBtn() {\r\n    Array.from(refs.closeBtn).map(item => item.classList.remove('hide'));\r\n  },\r\n  onWatchBtn() {\r\n    refs.sidebarWatchBtn.classList.add('active');\r\n  },\r\n  offWatchBtn() {\r\n    refs.sidebarWatchBtn.classList.remove('active');\r\n  },\r\n  onQueueBtn() {\r\n    refs.sidebarQueueBtn.classList.add('active');\r\n  },\r\n  offQueueBtn() {\r\n    refs.sidebarQueueBtn.classList.remove('active');\r\n  },\r\n};\r\n\r\nexport default btn;\r\n","import refs from '../refs';\r\nimport cardTemplate from '../../template/card.hbs';\r\nimport mainPageTemplate from '../../template/main-page.hbs';\r\nimport similarMoviesTemplate from '../../template/similar-movies.hbs';\r\nimport api from '../api';\r\nimport localStorageJs from '../localStorageJS';\r\nimport button from '../btn';\r\n\r\nconst user1 = {\r\n  mainPage() {\r\n    api.getPopularFilms().then(data => {\r\n      data.results.map(\r\n        elem => (elem.release_date = elem.release_date.split('-')[0]),\r\n      );\r\n      // console.log(data.results);\r\n      const markup = mainPageTemplate(data.results);\r\n      refs.cardList.innerHTML = '';\r\n      this.insertCardsToMainPage(markup);\r\n      this.setOnclick();\r\n      // console.log(data.results[0].release_date.split('-')[0]);\r\n    });\r\n  },\r\n  card(id) {\r\n    api.getInfoById(id).then(data => {\r\n      button.offLoadBtn();\r\n      // console.log(data);\r\n      const markup = cardTemplate(data);\r\n      // console.log(markup);\r\n      this.insertCardToMain(markup);\r\n      this.rerenderButtons();\r\n\r\n      this.setOnclickAddWatch();\r\n      this.setOnclickAddQueue();\r\n      api.getSimilarMovies(id).then(data => {\r\n        const similarMoviesMarkup = similarMoviesTemplate(data.results);\r\n        this.insertSimilarMoviesToCard(similarMoviesMarkup);\r\n        //console.log(similarMoviesMarkup);\r\n        //console.log(data.results);\r\n        $('.similarMovies').slick({\r\n          dots: true,\r\n          infinite: true,\r\n          speed: 300,\r\n          slidesToShow: 1,\r\n          centerMode: true,\r\n          variableWidth: true,\r\n          // slidesToScroll: 4,\r\n          centerPadding: '60px',\r\n          arrows: true,\r\n          autoplay: true,\r\n          responsive: [\r\n            {\r\n              breakpoint: 1024,\r\n              settings: {\r\n                slidesToShow: 3,\r\n                slidesToScroll: 3,\r\n                infinite: true,\r\n                dots: true,\r\n              },\r\n            },\r\n            {\r\n              breakpoint: 600,\r\n              settings: {\r\n                slidesToShow: 2,\r\n                slidesToScroll: 2,\r\n              },\r\n            },\r\n            {\r\n              breakpoint: 480,\r\n              settings: {\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n              },\r\n            },\r\n            // You can unslick at a given breakpoint now by adding:\r\n            // settings: \"unslick\"\r\n            // instead of a settings object\r\n          ],\r\n        });\r\n      });\r\n\r\n      // const similarMoviesMarkup = similarMoviesTemplate(obj);\r\n      // console.log(similarMoviesMarkup);\r\n      // console.log(obj.backdrop_path);\r\n      //  this.insertSimilarMoviesToCard(similarMoviesMarkup);\r\n    });\r\n  },\r\n\r\n  buildCartTemplate(item) {\r\n    return cardTemplate(item);\r\n  },\r\n\r\n  buildSimilarMoviesTemplate(item) {\r\n    return similarMoviesTemplate(item);\r\n  },\r\n\r\n  insertSimilarMoviesToCard(item) {\r\n    refs.cardList.insertAdjacentHTML('beforeend', item);\r\n  },\r\n\r\n  insertCardToMain(item) {\r\n    refs.cardList.innerHTML = '';\r\n    refs.cardList.innerHTML = item;\r\n    refs.textArea.hidden = true;\r\n  },\r\n  insertCardsToMainPage(items) {\r\n    refs.cardList.insertAdjacentHTML('beforeend', items);\r\n    // Array.from(document.querySelectorAll('.close')).map(item =>\r\n    //   item.classList.remove('hide'),\r\n    // );\r\n  },\r\n  showCardsByquery(query) {\r\n    api.getMoviesByQuery(query).then(data => {\r\n      data.results.map(\r\n        elem => (elem.release_date = elem.release_date.split('-')[0]),\r\n      );\r\n      const markup = mainPageTemplate(data.results);\r\n      this.insertCardsToMainPage(markup);\r\n      this.setOnclick();\r\n    });\r\n  },\r\n  setOnclick() {\r\n    const markup = document.querySelectorAll('.itemCard');\r\n    // console.log(markup);\r\n    for (const li of markup) {\r\n      li.addEventListener('click', e => {\r\n        if (e.target.nodeName != 'A') {\r\n          const id = e.currentTarget.dataset.movieid;\r\n          this.card(id);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  setOnclickAddWatch() {\r\n    const buttonAddWatch = document.querySelector('.btnAddWatch');\r\n    //console.log(buttonAddWatch);\r\n    buttonAddWatch.addEventListener('click', e => {\r\n      const id = e.currentTarget.dataset.movieid;\r\n      if (buttonAddWatch.dataset.action === 'add') {\r\n        const saveData = localStorageJs.setWatchedMovieIdToLocalStorage;\r\n        api\r\n          .getInfoById(id)\r\n          .then(saveData)\r\n          .then(this.rerenderButtons);\r\n      } else if (buttonAddWatch.dataset.action === 'remove') {\r\n        api\r\n          .getInfoById(id)\r\n          .then(localStorageJs.deleteWatchedMovieIdFromLocalStorage)\r\n          .then(this.rerenderButtons);\r\n      }\r\n      //getObj.then(console.log);\r\n      // console.log(localStorageJs.getWatchedMovieIdToLocalStorage());\r\n    });\r\n  },\r\n  rerenderButtons() {\r\n    const buttonAddWatch = document.querySelector('.btnAddWatch');\r\n    const buttonAddQueue = document.querySelector('.btnAddQueue');\r\n    const watchedLS = localStorageJs.getWatchedMovieIdToLocalStorage();\r\n    let isWatched = false;\r\n    let isQueued = false;\r\n    if (watchedLS) {\r\n      isWatched = watchedLS.find(\r\n        movie => movie.id === Number(buttonAddWatch.dataset.movieid),\r\n      );\r\n    }\r\n    const queuedLS = localStorageJs.getQueueMovieIdToLocalStorage();\r\n    if (queuedLS) {\r\n      isQueued = queuedLS.find(\r\n        movie => movie.id === Number(buttonAddQueue.dataset.movieid),\r\n      );\r\n    }\r\n    // console.log(isWatched);\r\n\r\n    if (isWatched) {\r\n      buttonAddWatch.textContent = 'Remove from watched';\r\n      buttonAddWatch.dataset.action = 'remove';\r\n    } else {\r\n      buttonAddWatch.textContent = 'Add to watched';\r\n      buttonAddWatch.dataset.action = 'add';\r\n    }\r\n\r\n    if (isQueued) {\r\n      buttonAddQueue.textContent = 'Remove from queue';\r\n      buttonAddQueue.dataset.action = 'remove';\r\n    } else {\r\n      buttonAddQueue.textContent = 'Add to queue';\r\n      buttonAddQueue.dataset.action = 'add';\r\n    }\r\n  },\r\n  setOnclickAddQueue() {\r\n    const buttonAddQueue = document.querySelector('.btnAddQueue');\r\n    buttonAddQueue.addEventListener('click', e => {\r\n      const id = e.currentTarget.dataset.movieid;\r\n      if (buttonAddQueue.dataset.action === 'add') {\r\n        const saveData = localStorageJs.setQueueMovieIdToLocalStorage;\r\n        api\r\n          .getInfoById(id)\r\n          .then(saveData)\r\n          .then(this.rerenderButtons);\r\n      } else if (buttonAddQueue.dataset.action === 'remove') {\r\n        api\r\n          .getInfoById(id)\r\n          .then(localStorageJs.deleteQueueMovieIdFromLocalStorage)\r\n          .then(this.rerenderButtons);\r\n      }\r\n      //getObj.then(console.log);\r\n      // console.log(localStorageJs.getWatchedMovieIdToLocalStorage());\r\n    });\r\n  },\r\n  renderLibrary(type = 'watched') {\r\n    button.offLoadBtn();\r\n    let data = '';\r\n    if (type === 'watched') {\r\n      data = localStorageJs.getWatchedMovieIdToLocalStorage();\r\n    } else if (type === 'queue') {\r\n      data = localStorageJs.getQueueMovieIdToLocalStorage();\r\n    }\r\n    refs.textArea.hidden = true;\r\n    refs.cardList.innerHTML = '';\r\n    let markup = mainPageTemplate(data);\r\n    this.insertCardsToMainPage(markup);\r\n    this.setOnclick();\r\n\r\n    Array.from(document.querySelectorAll('.close')).map(item => {\r\n      item.classList.remove('hide');\r\n      item.addEventListener('click', e => {\r\n        e.preventDefault();\r\n        const id = e.currentTarget.dataset.movieid;\r\n        console.log(id);\r\n\r\n        if (type === 'watched') {\r\n          localStorageJs.deleteWatchedMovieIdFromLocalStorage(id);\r\n          const child = e.currentTarget.parentNode;\r\n          const parent = child.parentNode;\r\n          parent.removeChild(child);\r\n        } else if (type === 'queue') {\r\n          localStorageJs.deleteQueueMovieIdFromLocalStorage(id);\r\n\r\n          const child = e.currentTarget.parentNode;\r\n          const parent = child.parentNode;\r\n          parent.removeChild(child);\r\n        }\r\n\r\n        Array.from(document.querySelectorAll('.close')).map(item =>\r\n          item.classList.remove('hide'),\r\n        );\r\n        // item.classList.remove('hide');\r\n        // if (type === 'watched') {\r\n        //   data = localStorageJs.getWatchedMovieIdToLocalStorage();\r\n        // } else if (type === 'queue') {\r\n        //   data = localStorageJs.getQueueMovieIdToLocalStorage();\r\n        // }\r\n        // refs.cardList.innerHTML = mainPageTemplate(data);\r\n        // // const markup = mainPageTemplate(data);\r\n        // // this.insertCardsToMainPage(markup);\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nexport default user1;\r\n","import imagesLoaded from 'imagesloaded';\r\nimport lodash from 'lodash';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\n//---------------------------------------------------\r\nimport imageCardTemplate from '../template/card.hbs';\r\nimport refs from './refs';\r\nimport myPnotify from './pnotifyAlerts';\r\nimport proxyElement from './proxyElemen';\r\n//---------------------------------------------------\r\nimport reloadInt from './users/reloadInt';\r\nimport api from './api';\r\nimport button from './btn';\r\n\r\nbutton.offSidebar();\r\nbutton.offLoadBtn();\r\nbutton.offCloseBtn();\r\n\r\nrefs.serchForm.addEventListener('submit', e => {\r\n  button.onLoadBtn();\r\n  api.currPage = 1;\r\n  e.preventDefault();\r\n  refs.cardList.innerHTML = '';\r\n  const text = refs.textArea.value;\r\n  reloadInt.showCardsByquery(text);\r\n});\r\n\r\nconst movieId = api.getMovieIdFromLink();\r\n\r\nif (movieId) {\r\n  reloadInt.card(movieId);\r\n} else {\r\n  reloadInt.mainPage();\r\n}\r\nrefs.library.addEventListener('click', () => {\r\n  reloadInt.renderLibrary();\r\n  button.onSidebar();\r\n  button.onWatchBtn();\r\n});\r\n\r\nrefs.loadMoreBtn.addEventListener('click', () => {\r\n  reloadInt.showCardsByquery(refs.textArea.value);\r\n});\r\n\r\nrefs.sidebarWatchBtn.addEventListener('click', () => {\r\n  reloadInt.renderLibrary('watched');\r\n  button.onWatchBtn();\r\n  button.offQueueBtn();\r\n});\r\nrefs.sidebarQueueBtn.addEventListener('click', () => {\r\n  reloadInt.renderLibrary('queue');\r\n  button.offWatchBtn();\r\n  button.onQueueBtn();\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\\r\\n            <li class=\\\"genre\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"film-card container\\\">\\r\\n    <img src=\\\"https://cors-anywhere.herokuapp.com/https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = helpers.poster_path || (depth0 != null ? depth0.poster_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":96}}}) : helper)))\n    + \"\\\" alt=\\\"filmImg\\\"\\r\\n        class=\\\"img-film-card\\\">\\r\\n\\r\\n    <div class=\\\"movieInfo\\\">\\r\\n        <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":12},\"end\":{\"line\":6,\"column\":21}}}) : helper)))\n    + \"</h2>\\r\\n        <p class=\\\"bgrn-p \\\">vote / votes <span class=\\\"spase\\\">\"\n    + alias4(((helper = (helper = helpers.vote_average || (depth0 != null ? depth0.vote_average : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":60},\"end\":{\"line\":7,\"column\":76}}}) : helper)))\n    + \" / \"\n    + alias4(((helper = (helper = helpers.vote_count || (depth0 != null ? depth0.vote_count : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":79},\"end\":{\"line\":7,\"column\":93}}}) : helper)))\n    + \"</span></p>\\r\\n        <p>popularity <span class=\\\"spase\\\"></span>\"\n    + alias4(((helper = (helper = helpers.popularity || (depth0 != null ? depth0.popularity : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":49},\"end\":{\"line\":8,\"column\":63}}}) : helper)))\n    + \"</span></p>\\r\\n        <p class=\\\"bgrn-p\\\">origin title<span class=\\\"spase\\\"></span>\"\n    + alias4(((helper = (helper = helpers.original_title || (depth0 != null ? depth0.original_title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":65},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"</span></p>\\r\\n        <p class=\\\"float-p-genre\\\">genre</p>\\r\\n        <ul>\"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.genres : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":13,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\r\\n        <article class='about-film'>\\r\\n            <h3>About</h3>\\r\\n            <p>\"\n    + alias4(((helper = (helper = helpers.overview || (depth0 != null ? depth0.overview : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":15},\"end\":{\"line\":17,\"column\":27}}}) : helper)))\n    + \"</p>\\r\\n        </article>\\r\\n\\r\\n        <button class=\\\"btnAddWatch\\\" data-action=\\\"add\\\" data-movieID=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":68},\"end\":{\"line\":20,\"column\":74}}}) : helper)))\n    + \"\\\">Add to watched</button>\\r\\n        <button class=\\\"btnAddQueue\\\" data-action=\\\"add\\\" data-movieID=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":68},\"end\":{\"line\":21,\"column\":74}}}) : helper)))\n    + \"\\\">Add to queue</button>\\r\\n\\r\\n    </div>\\r\\n\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\r\\n    <div class=\\\"slider-item\\\">\\r\\n        <a href=\\\"#id=\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":21},\"end\":{\"line\":6,\"column\":27}}}) : helper)))\n    + \"\\\" onclick=\\\"location.replace('#id=\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":60},\"end\":{\"line\":6,\"column\":66}}}) : helper)))\n    + \"');location.reload();\\\">\\r\\n            <img src=\\\"https://cors-anywhere.herokuapp.com/https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = helpers.backdrop_path || (depth0 != null ? depth0.backdrop_path : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":89},\"end\":{\"line\":7,\"column\":106}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" />\\r\\n            <h2>\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":16},\"end\":{\"line\":8,\"column\":25}}}) : helper)))\n    + \"</h2>\\r\\n        </a>\\r\\n    </div>\\r\\n\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<h2 class=\\\"similarTitle\\\">Similar movies</h2>\\r\\n<div class=\\\"similarMovies\\\" data-slick='{\\\"slidesToShow\\\": 4, \\\"slidesToScroll\\\": 4}'>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":4},\"end\":{\"line\":13,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}